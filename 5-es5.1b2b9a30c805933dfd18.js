function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{TyDT:function(e,t,n){"use strict";n.r(t),n.d(t,"DetailsModule",(function(){return Y}));var r,i=n("ofXK"),a=n("tyNb"),c=n("kt0X"),o=n("snw9"),s=Object(c.n)("[Details] Load Weather Details"),b=Object(c.n)("[Details] Load Weather Details Success",Object(c.s)()),u=Object(c.n)("[Details] Load Weather Details Failed"),l=Object(c.o)("details"),d=Object(c.q)(l,(function(e){return e.entity})),f=Object(c.q)(l,(function(e){return e.loading})),y=Object(c.q)(l,(function(e){return e.error})),h=n("eTSW"),p=n("fXoL"),m=n("668k"),O=n("Zllk"),v=n("f0Wu"),g=n("neNJ"),j=n("wHSu"),w=n("6NWb"),_=((r=function(){function e(){_classCallCheck(this,e),this.faTemperatureHigh=j.f,this.faTint=j.i,this.faWind=j.j,this.faSun=j.e,this.faMoon=j.c}return _createClass(e,[{key:"unixToHourMinute",value:function(e){return v.unix(e).tz(this.timeZone).format("HH:mm")}},{key:"weather",get:function(){return this.dailyWeather.weather}},{key:"date",get:function(){return v.unix(this.dailyWeather.date).format("DD MMM - dddd")}},{key:"icon",get:function(){return"http://openweathermap.org/img/wn/".concat(this.weather.icon,"@2x.png")}},{key:"unitSymbol",get:function(){return Object(g.a)(this.unit)}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=p.Db({type:r,selectors:[["jv-daily-weather"]],inputs:{dailyWeather:"dailyWeather",timeZone:"timeZone",unit:"unit"},decls:28,vars:18,consts:[[1,"row","mt-3","justify-content-md-center"],[1,"col-md-12","col-lg-8"],[1,"card"],[1,"card-body"],[1,"badge","badge-secondary"],[1,"row"],[1,"col-sm-12","col-md-6","align-middle"],[1,"mt-3"],[3,"icon"],[3,"src"]],template:function(e,t){1&e&&(p.Ob(0,"div",0),p.Ob(1,"div",1),p.Ob(2,"div",2),p.Ob(3,"div",3),p.Ob(4,"span",4),p.qc(5),p.Zb(6,"uppercase"),p.Nb(),p.Ob(7,"div",5),p.Ob(8,"div",6),p.Ob(9,"h5",7),p.Kb(10,"fa-icon",8),p.qc(11),p.Nb(),p.Kb(12,"img",9),p.Ob(13,"p"),p.qc(14),p.Nb(),p.Nb(),p.Ob(15,"div",6),p.Ob(16,"p"),p.Kb(17,"fa-icon",8),p.qc(18),p.Nb(),p.Ob(19,"p"),p.Kb(20,"fa-icon",8),p.qc(21),p.Nb(),p.Ob(22,"p"),p.Kb(23,"fa-icon",8),p.qc(24),p.Nb(),p.Ob(25,"p"),p.Kb(26,"fa-icon",8),p.qc(27),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb()),2&e&&(p.zb(5),p.rc(p.ac(6,16,t.date)),p.zb(5),p.dc("icon",t.faTemperatureHigh),p.zb(1),p.uc(" ",t.weather.minTemp," ",t.unitSymbol," ~ ",t.weather.maxTemp," ",t.unitSymbol," "),p.zb(1),p.dc("src",t.icon,p.lc),p.zb(2),p.rc(t.weather.description),p.zb(3),p.dc("icon",t.faTint),p.zb(1),p.sc(" Umidade: ",t.weather.humidity,"% "),p.zb(2),p.dc("icon",t.faWind),p.zb(1),p.sc(" Velocidade do vento: ",t.weather.wind.speed," m/s "),p.zb(2),p.dc("icon",t.faSun),p.zb(1),p.sc(" Nascer do sol: ",t.unixToHourMinute(t.weather.sunrise)," "),p.zb(2),p.dc("icon",t.faMoon),p.zb(1),p.sc(" P\xf4r do sol: ",t.unixToHourMinute(t.weather.sunset)," "))},directives:[w.a],pipes:[i.o],styles:[".align-middle[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"],changeDetection:0}),r);function k(e,t){1&e&&p.Kb(0,"jv-loader")}function N(e,t){if(1&e&&(p.Kb(0,"jv-daily-weather",12),p.Zb(1,"async"),p.Zb(2,"async")),2&e){var n=t.$implicit,r=p.Yb(3);p.dc("dailyWeather",n)("timeZone",p.ac(1,3,r.details$).city.timeZone)("unit",p.ac(2,5,r.unit$))}}function T(e,t){if(1&e&&(p.Mb(0),p.Ob(1,"div",1),p.Ob(2,"div",6),p.Ob(3,"div",7),p.Ob(4,"div",8),p.Ob(5,"h3",9),p.qc(6),p.Zb(7,"async"),p.Zb(8,"async"),p.Nb(),p.Kb(9,"hr"),p.Kb(10,"jv-detailed-weather",10),p.Zb(11,"async"),p.Zb(12,"async"),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.oc(13,N,3,7,"jv-daily-weather",11),p.Zb(14,"async"),p.Lb()),2&e){var n=p.Yb(2);p.zb(6),p.tc("",p.ac(7,5,n.details$).city.name,", ",p.ac(8,7,n.details$).city.country,""),p.zb(4),p.dc("weather",p.ac(11,9,n.details$).current)("unit",p.ac(12,11,n.unit$)),p.zb(3),p.dc("ngForOf",p.ac(14,13,n.details$).daily)}}function C(e,t){1&e&&(p.Ob(0,"div"),p.qc(1,"Erro"),p.Nb())}function Z(e,t){if(1&e&&(p.oc(0,T,15,15,"ng-container",5),p.Zb(1,"async"),p.oc(2,C,2,0,"div",5),p.Zb(3,"async")),2&e){var n=p.Yb();p.dc("ngIf",!p.ac(1,2,n.error$)),p.zb(2),p.dc("ngIf",p.ac(3,4,n.error$))}}var S,z,W=((z=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.store.dispatch(s()),this.details$=this.store.pipe(Object(c.t)(d)),this.loading$=this.store.pipe(Object(c.t)(f)),this.error$=this.store.pipe(Object(c.t)(y)),this.unit$=this.store.pipe(Object(c.t)(h.a))}}]),e}()).\u0275fac=function(e){return new(e||z)(p.Jb(c.h))},z.\u0275cmp=p.Db({type:z,selectors:[["jv-details"]],decls:7,vars:4,consts:[[1,"container"],[1,"row","mt-3","justify-content-md-center"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],["notLoading",""],[4,"ngIf"],[1,"col-md-12","col-lg-8"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"weather","unit"],[3,"dailyWeather","timeZone","unit",4,"ngFor","ngForOf"],[3,"dailyWeather","timeZone","unit"]],template:function(e,t){if(1&e&&(p.Ob(0,"div",0),p.Ob(1,"div",1),p.Ob(2,"div",2),p.oc(3,k,1,0,"jv-loader",3),p.Zb(4,"async"),p.Nb(),p.Nb(),p.oc(5,Z,4,6,"ng-template",null,4,p.pc),p.Nb()),2&e){var n=p.ic(6);p.zb(3),p.dc("ngIf",p.ac(4,2,t.loading$))("ngIfElse",n)}},directives:[i.k,m.a,O.a,i.j,_],pipes:[i.b],styles:[""]}),z),$=((S=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"canActivate",value:function(e,t){return!(!e.queryParams.lat||!e.queryParams.lon)||this.router.createUrlTree([""])}}]),e}()).\u0275fac=function(e){return new(e||S)(p.Sb(a.e))},S.\u0275prov=p.Fb({token:S,factory:S.\u0275fac}),S),A=Object(c.p)({entity:void 0,loading:!1,error:!1},Object(c.r)(s,(function(e){return Object.assign(Object.assign({},e),{entity:void 0,loading:!0,error:!1})})),Object(c.r)(b,(function(e,t){var n=t.entity;return Object.assign(Object.assign({},e),{entity:n,loading:!1})})),Object(c.r)(u,(function(e){return Object.assign(Object.assign({},e),{loading:!1,error:!0})})));function q(e,t){return A(e,t)}var I,D,M=n("itXk"),x=n("zp1y"),H=n("5+tZ"),K=n("JIr8"),L=n("lJxs"),P=Object(c.o)("router"),F=Object(c.q)(P,(function(e){return e&&e.state||{}})),J=Object(c.q)(F,(function(e){return e&&e.queryParams||{}})),E=n("d3tU"),U=((I=function e(t,n,r){var i=this;_classCallCheck(this,e),this.actions$=t,this.store=n,this.weatherService=r,this.loadCurrentWeather$=Object(o.c)((function(){return i.actions$.pipe(Object(o.d)(s),Object(x.a)(i.store.pipe(Object(c.t)(J))),Object(H.a)((function(e){var t=_slicedToArray(e,2)[1];return Object(M.a)([i.weatherService.getCityWeatherByCoord(t.lat,t.lon),i.weatherService.getWeatherDetails(t.lat,t.lon)])})),Object(K.a)((function(e,t){return i.store.dispatch(u()),t})),Object(L.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=r;return i.city=Object.assign(Object.assign({},n.city),{timeZone:r.city.timeZone}),b({entity:i})})))}))}).\u0275fac=function(e){return new(e||I)(p.Sb(o.a),p.Sb(c.h),p.Sb(E.a))},I.\u0275prov=p.Fb({token:I,factory:I.\u0275fac}),I),X=n("V/fk"),Y=((D=function e(){_classCallCheck(this,e)}).\u0275mod=p.Hb({type:D}),D.\u0275inj=p.Gb({factory:function(e){return new(e||D)},providers:[$],imports:[[i.c,a.g.forChild([{path:"",component:W,canActivate:[$]}]),c.j.forFeature("details",q),o.b.forFeature([U]),X.a,w.b]]}),D)}}]);